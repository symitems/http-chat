"use strict";(self.webpackChunkhttp_chat=self.webpackChunkhttp_chat||[]).push([[775],{8775:function(t,e,c){c.r(e),c.d(e,{default:function(){return r}});var n=c(9439),a=(c(3508),c(2791));var i=c.p+"static/media/logo.6ce24c58023cc2f8fd88fe9d219db6c6.svg",o=c(7689),s=c(4569),l=c.n(s),h=c(1224),u=c(184);function r(){var t=(0,o.s0)(),e=(0,h.a)().login,c=(0,a.useState)(""),s=(0,n.Z)(c,2),r=s[0],d=s[1],p=window.location.search,f="https://http-chat-api.onrender.com",g=(0,a.useState)(""),m=(0,n.Z)(g,2),j=m[0],b=m[1],v="https://github.com/login/oauth/authorize?client_id=".concat("8344c544c5b096a02c89","&scope=user:read"),x=p.startsWith("?code=")?p.split("=")[1]:void 0,k=(0,a.useCallback)((function(){e(),setTimeout((function(){t("/chat")}),100)}),[e,t]);return(0,a.useEffect)((function(){x&&(b("Verifying account..."),l().post(f+"/login/oauth/github",{code:x},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){console.log(t.data),d(""),b(t.data.message),k()})).catch((function(t){setTimeout((function(){d("Cannot login. Try again."),b(""),console.log(t)}),1e3)})))}),[f,x,k]),(0,u.jsx)("div",{className:"App",children:(0,u.jsxs)("header",{className:"App-header",children:[(0,u.jsx)("img",{src:i,className:"App-logo",alt:"logo"}),j?(0,u.jsx)("div",{children:(0,u.jsx)("p",{children:j})}):null,(0,u.jsx)("a",{className:"App-link",href:v,children:"LOGIN with Github"}),r?(0,u.jsx)("div",{style:{color:"lightsalmon"},children:r}):null]})})}l().defaults.withCredentials=!0},3508:function(){}}]);
//# sourceMappingURL=775.66b47b76.chunk.js.map